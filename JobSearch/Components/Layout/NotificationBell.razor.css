/* =========================================================
   NOTIFICATION BELL – DARK GLASS (WITH SVG ICON FALLBACK)
   ========================================================= */

/* Kontener */
.notification-wrapper {
    position: relative;
    display: inline-block;
    z-index: 1200;
    font-family: 'Inter', system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
}

    /* =========================================================
   IKONA DZWONKA – PEWNA (SVG DATA-URI)
   - działa nawet jeśli Bootstrap Icons nie są załadowane
   ========================================================= */
    .notification-wrapper .bi-bell-fill {
        display: inline-block !important;
        width: 1.4rem;
        height: 1.4rem;
        background-repeat: no-repeat;
        background-position: center;
        background-size: contain;
        /* biały */
        background-image: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='16' height='16' fill='%23ffffff' viewBox='0 0 16 16'%3E%3Cpath d='M8 16a2 2 0 0 0 2-2H6a2 2 0 0 0 2 2m.995-14.901a1 1 0 1 0-1.99 0A5 5 0 0 0 3 6c0 1.098-.5 6-2 7h14c-1.5-1-2-5.902-2-7 0-2.42-1.72-4.44-4.005-4.901'/%3E%3C/svg%3E");
    }

    /* =========================================================
   PRZYCISK DZWONKA (bootstrap-safe)
   ========================================================= */
    .notification-wrapper .bell-btn {
        position: relative;
        padding: 0.38rem 0.5rem !important;
        display: inline-flex !important;
        align-items: center;
        justify-content: center;
        gap: 0.35rem;
        border: 1px solid rgba(148, 163, 184, 0.55) !important;
        background: rgba(15, 23, 42, 0.65) !important;
        border-radius: 999px !important;
        backdrop-filter: blur(14px);
        -webkit-backdrop-filter: blur(14px);
        text-decoration: none !important;
        box-shadow: none !important;
        transition: transform 0.16s ease, border-color 0.18s ease, background 0.18s ease, box-shadow 0.18s ease;
    }

        /* WAŻNE: bootstrap .btn-link/.nav-link potrafi narzucić kolor */
        .notification-wrapper .bell-btn,
        .notification-wrapper .bell-btn * {
            color: #ffffff !important;
        }

            /* hover */
            .notification-wrapper .bell-btn:hover {
                background: rgba(15, 23, 42, 0.86) !important;
                border-color: rgba(59, 130, 246, 0.90) !important;
                box-shadow: 0 16px 38px rgba(15, 23, 42, 0.55);
                transform: translateY(-1px);
            }

            .notification-wrapper .bell-btn:active {
                transform: translateY(0);
            }

            .notification-wrapper .bell-btn:focus {
                outline: none !important;
                box-shadow: none !important;
            }

            /* =========================================================
   BADGE
   ========================================================= */
            .notification-wrapper .bell-btn .badge {
                font-size: 0.65rem !important;
                padding: 0.22rem 0.36rem !important;
                border-radius: 999px !important;
                border: 2px solid rgba(15, 23, 42, 1) !important;
                box-shadow: 0 10px 20px rgba(15, 23, 42, 0.5);
                animation: notifPulse 1.35s ease-in-out infinite;
            }

/* =========================================================
   DROPDOWN (glass + gradient top bar)
   ========================================================= */
.notification-dropdown {
    position: absolute;
    top: calc(100% + 0.7rem);
    right: -10px;
    width: 360px;
    max-width: min(92vw, 380px);
    border-radius: 18px;
    overflow: hidden;
    z-index: 2000;
    background: linear-gradient(90deg, #2563eb 0%, #a78bfa 50%, #10b981 100%) 0 0 / 100% 4px no-repeat, radial-gradient(circle at 0% 0%, rgba(248, 250, 252, 0.12), transparent 55%), radial-gradient(circle at 100% 0%, rgba(96, 165, 250, 0.28), transparent 55%), rgba(15, 23, 42, 0.94);
    border: 1px solid rgba(148, 163, 184, 0.75);
    backdrop-filter: blur(18px);
    -webkit-backdrop-filter: blur(18px);
    box-shadow: 0 22px 60px rgba(15, 23, 42, 0.78);
    transform-origin: top right;
    animation: notifDropdownIn 180ms ease-out;
}

    /* dziubek */
    .notification-dropdown::after {
        content: "";
        position: absolute;
        top: -8px;
        right: 16px;
        width: 14px;
        height: 14px;
        transform: rotate(45deg);
        background: rgba(15, 23, 42, 0.94);
        border-left: 1px solid rgba(148, 163, 184, 0.45);
        border-top: 1px solid rgba(148, 163, 184, 0.45);
    }

/* =========================================================
   HEADER
   ========================================================= */
.notification-header {
    padding: 0.85rem 0.95rem 0.7rem;
    border-bottom: 1px solid rgba(148, 163, 184, 0.22);
}

    .notification-header,
    .notification-header * {
        color: #ffffff !important;
    }

/* =========================================================
   PRZYCISK "OZNACZ WSZYSTKIE" – MAŁY (reset bootstrap)
   ========================================================= */
.notification-dropdown .mark-read-btn {
    /* reset bootstrap btn-link */
    background: transparent !important;
    border: 1px solid rgba(191, 219, 254, 0.20) !important;
    text-decoration: none !important;
    box-shadow: none !important;
    /* realnie mniejszy */
    font-size: 0.70rem !important;
    line-height: 1 !important;
    font-weight: 700 !important;
    padding: 0.14rem 0.42rem !important;
    border-radius: 999px !important;
    color: #bfdbfe !important;
    cursor: pointer;
    transition: transform 0.16s ease, background 0.16s ease, border-color 0.16s ease, color 0.16s ease;
}

    .notification-dropdown .mark-read-btn:hover {
        background: rgba(37, 99, 235, 0.12) !important;
        border-color: rgba(59, 130, 246, 0.55) !important;
        color: #eff6ff !important;
        transform: translateY(-1px);
    }

    .notification-dropdown .mark-read-btn:active {
        transform: translateY(0);
    }

/* =========================================================
   LISTA
   ========================================================= */
.notification-list {
    max-height: 380px;
    overflow-y: auto;
    padding: 0.55rem;
}

    /* scrollbar */
    .notification-list::-webkit-scrollbar {
        width: 10px;
    }

    .notification-list::-webkit-scrollbar-track {
        background: rgba(15, 23, 42, 0.35);
        border-left: 1px solid rgba(148, 163, 184, 0.12);
    }

    .notification-list::-webkit-scrollbar-thumb {
        background: rgba(148, 163, 184, 0.35);
        border-radius: 999px;
        border: 2px solid rgba(15, 23, 42, 0.35);
    }

        .notification-list::-webkit-scrollbar-thumb:hover {
            background: rgba(148, 163, 184, 0.55);
        }

/* =========================================================
   ITEM
   ========================================================= */
.notification-item {
    position: relative;
    padding: 0.75rem 0.85rem;
    margin-bottom: 0.55rem;
    border-radius: 14px;
    cursor: pointer;
    background: rgba(11, 18, 32, 0.94);
    border: 1px solid rgba(30, 41, 59, 0.95);
    border-left: 4px solid transparent;
    transition: transform 0.16s ease, background 0.16s ease, border-color 0.16s ease, box-shadow 0.16s ease;
}

    .notification-item:last-child {
        margin-bottom: 0;
    }

    .notification-item:hover {
        background: rgba(22, 32, 51, 0.97);
        border-left-color: rgba(37, 99, 235, 0.95);
        border-color: rgba(59, 130, 246, 0.35);
        transform: translateY(-2px);
        box-shadow: 0 18px 44px rgba(15, 23, 42, 0.55);
    }

    .notification-item.unread {
        border-left-color: rgba(16, 185, 129, 0.9);
    }

    .notification-item.read {
        opacity: 0.78;
    }

    /* =========================================================
   TEKST – WYMUSZONA CZYTELNOŚĆ (bootstrap override)
   ========================================================= */
    .notification-item,
    .notification-item * {
        color: rgba(249, 250, 251, 0.96) !important;
    }

.notification-text {
    font-size: 0.92rem;
    line-height: 1.35;
    font-weight: 650;
    margin-bottom: 0.25rem;
    word-wrap: break-word;
}

.notification-time,
.notification-item small,
.notification-item .text-muted {
    font-size: 0.75rem;
    color: rgba(209, 213, 219, 0.82) !important;
    font-weight: 600;
    letter-spacing: 0.02em;
}

/* =========================================================
   DOT NIEPRZECZYTANE
   ========================================================= */
.unread-dot {
    width: 9px;
    height: 9px;
    border-radius: 999px;
    background: rgba(16, 185, 129, 0.95);
    box-shadow: 0 0 0 4px rgba(16, 185, 129, 0.12);
    margin-left: 0.45rem;
    margin-top: 0.35rem;
    flex-shrink: 0;
    animation: notifDotPulse 1.6s ease-in-out infinite;
}

/* =========================================================
   ANIMATIONS
   ========================================================= */
@keyframes notifDropdownIn {
    from {
        opacity: 0;
        transform: translateY(-6px) scale(0.985);
    }

    to {
        opacity: 1;
        transform: translateY(0) scale(1);
    }
}

@keyframes notifPulse {
    0%, 100% {
        transform: translate(-50%, -50%) scale(1);
    }

    50% {
        transform: translate(-50%, -50%) scale(1.08);
    }
}

@keyframes notifDotPulse {
    0%, 100% {
        transform: scale(1);
        opacity: 1;
    }

    50% {
        transform: scale(1.12);
        opacity: 0.88;
    }
}

/* =========================================================
   ACCESSIBILITY
   ========================================================= */
@media (prefers-reduced-motion: reduce) {
    .notification-dropdown,
    .bell-btn,
    .notification-item,
    .bell-btn .badge,
    .unread-dot {
        animation: none !important;
        transition: none !important;
    }
}

/* =========================================================
   RESPONSIVE
   ========================================================= */
@media (max-width: 575.98px) {
    .notification-dropdown {
        width: min(92vw, 360px);
        right: -6px;
    }
}
